<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
    //单例模式:保证一个类仅有一个实例，并提供一个访问它的全局访问点。
    //全局变量不是单例模式，但在JavaScript开发中，我们经常会把全局变量当成单例来使用。
    var a = {}; //这不是单利模式

    //（1）使用命名空间 降低全局变量带来的命名污染
    var namespace1 = {
        a: function(){},
        b: 2
    };
    //（2）使用闭包封装私有变量
    var user = (function() {
        var _name = 'lee',
            _age = '25';
        return {
            getUserInfo: function() {
                return _name + ":" + _age;
            }
        };
    })();


//惰性单例：在需要的时候才能创建对象实例。
    var getSingle = function(fn) {
        var result;
        return function() {
            return result || (result = fn.apply(this, arguments));
        };
    };
    // 测试
    function testSingle(){}

   console.log( getSingle(testSingle)() === getSingle(testSingle)())
    // true
</script>